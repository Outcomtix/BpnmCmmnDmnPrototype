{"version":3,"file":"KeyboardBindings.js","names":["isUndo","isRedo","KeyboardBindings","$inject","constructor","editorActions","keyboard","registerBindings","addListener","action","fn","isRegistered","context","event","keyEvent","trigger"],"sources":["../../../src/features/keyboard/KeyboardBindings.js"],"sourcesContent":["import {\n  isUndo,\n  isRedo\n} from 'diagram-js/lib/features/keyboard/KeyboardUtil';\n\nexport class KeyboardBindings {\n  static $inject = [ 'editorActions', 'keyboard' ];\n\n  constructor(editorActions, keyboard) {\n    this.registerBindings(keyboard, editorActions);\n  }\n\n  /**\n   * Register available keyboard bindings.\n   *\n   * @param {Keyboard} keyboard\n   * @param {EditorActions} editorActions\n   */\n  registerBindings(keyboard, editorActions) {\n\n\n    /**\n   * Add keyboard binding if respective editor action\n   * is registered.\n   *\n   * @param {string} action name\n   * @param {Function} fn that implements the key binding\n   */\n    function addListener(action, fn) {\n\n      if (editorActions.isRegistered(action)) {\n        keyboard.addListener(fn);\n      }\n    }\n\n    // undo\n    // (CTRL|CMD) + Z\n    addListener('undo', function(context) {\n\n      const event = context.keyEvent;\n\n      if (isUndo(event)) {\n        editorActions.trigger('undo');\n\n        return true;\n      }\n    });\n\n    // redo\n    // CTRL + Y\n    // CMD + SHIFT + Z\n    addListener('redo', function(context) {\n\n      const event = context.keyEvent;\n\n      if (isRedo(event)) {\n        editorActions.trigger('redo');\n\n        return true;\n      }\n    });\n  }\n}\n\n\n"],"mappings":"AAAA,SACEA,MAAM,EACNC,MAAM,QACD,+CAA+C;AAEtD,OAAO,MAAMC,gBAAgB,CAAC;EAC5B,OAAOC,OAAO,GAAG,CAAE,eAAe,EAAE,UAAU,CAAE;EAEhDC,WAAWA,CAACC,aAAa,EAAEC,QAAQ,EAAE;IACnC,IAAI,CAACC,gBAAgB,CAACD,QAAQ,EAAED,aAAa,CAAC;EAChD;;EAEA;AACF;AACA;AACA;AACA;AACA;EACEE,gBAAgBA,CAACD,QAAQ,EAAED,aAAa,EAAE;IAGxC;AACJ;AACA;AACA;AACA;AACA;AACA;IACI,SAASG,WAAWA,CAACC,MAAM,EAAEC,EAAE,EAAE;MAE/B,IAAIL,aAAa,CAACM,YAAY,CAACF,MAAM,CAAC,EAAE;QACtCH,QAAQ,CAACE,WAAW,CAACE,EAAE,CAAC;MAC1B;IACF;;IAEA;IACA;IACAF,WAAW,CAAC,MAAM,EAAE,UAASI,OAAO,EAAE;MAEpC,MAAMC,KAAK,GAAGD,OAAO,CAACE,QAAQ;MAE9B,IAAId,MAAM,CAACa,KAAK,CAAC,EAAE;QACjBR,aAAa,CAACU,OAAO,CAAC,MAAM,CAAC;QAE7B,OAAO,IAAI;MACb;IACF,CAAC,CAAC;;IAEF;IACA;IACA;IACAP,WAAW,CAAC,MAAM,EAAE,UAASI,OAAO,EAAE;MAEpC,MAAMC,KAAK,GAAGD,OAAO,CAACE,QAAQ;MAE9B,IAAIb,MAAM,CAACY,KAAK,CAAC,EAAE;QACjBR,aAAa,CAACU,OAAO,CAAC,MAAM,CAAC;QAE7B,OAAO,IAAI;MACb;IACF,CAAC,CAAC;EACJ;AACF","ignoreList":[]}