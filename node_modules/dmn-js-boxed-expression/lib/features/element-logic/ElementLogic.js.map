{"version":3,"file":"ElementLogic.js","names":["is","FALLBACK_PRIORITY","ElementLogic","$inject","constructor","components","onGetComponent","LogicComponent","FallbackExpression","_","injector","get","viewer","rootElement","getRootElement","expression","getLogic","Expression","getComponent","createComponentVNode","element","createVNode","null","createTextVNode","$type"],"sources":["../../../src/features/element-logic/ElementLogic.js"],"sourcesContent":["import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nconst FALLBACK_PRIORITY = 100;\n\nexport default class ElementLogic {\n  static $inject = [ 'components' ];\n\n  constructor(components) {\n    components.onGetComponent('body', () => {\n      return LogicComponent;\n    });\n\n    components.onGetComponent('expression', FALLBACK_PRIORITY, () => FallbackExpression);\n  }\n}\n\nfunction LogicComponent(_, { injector }) {\n  const components = injector.get('components');\n  const viewer = injector.get('viewer');\n\n  const rootElement = viewer.getRootElement();\n  const expression = getLogic(rootElement);\n\n  const Expression = components.getComponent('expression', {\n    expression\n  });\n\n  return (\n    <Expression expression={ expression } />\n  );\n}\n\nfunction getLogic(element) {\n  if (is(element, 'dmn:Decision')) {\n    return element.get('decisionLogic');\n  } else if (is(element, 'dmn:BusinessKnowledgeModel')) {\n    return element.get('encapsulatedLogic');\n  }\n}\n\nfunction FallbackExpression({ expression }) {\n  return (\n    <div>\n      <span style=\"color:red;\">\n        Expression of type { expression.$type } is not supported.\n      </span>\n    </div>\n  );\n}\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,kCAAkC;AAErD,MAAMC,iBAAiB,GAAG,GAAG;AAE7B,eAAe,MAAMC,YAAY,CAAC;EAChC,OAAOC,OAAO,GAAG,CAAE,YAAY,CAAE;EAEjCC,WAAWA,CAACC,UAAU,EAAE;IACtBA,UAAU,CAACC,cAAc,CAAC,MAAM,EAAE,MAAM;MACtC,OAAOC,cAAc;IACvB,CAAC,CAAC;IAEFF,UAAU,CAACC,cAAc,CAAC,YAAY,EAAEL,iBAAiB,EAAE,MAAMO,kBAAkB,CAAC;EACtF;AACF;AAEA,SAASD,cAAcA,CAACE,CAAC,EAAE;EAAEC;AAAS,CAAC,EAAE;EACvC,MAAML,UAAU,GAAGK,QAAQ,CAACC,GAAG,CAAC,YAAY,CAAC;EAC7C,MAAMC,MAAM,GAAGF,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC;EAErC,MAAME,WAAW,GAAGD,MAAM,CAACE,cAAc,CAAC,CAAC;EAC3C,MAAMC,UAAU,GAAGC,QAAQ,CAACH,WAAW,CAAC;EAExC,MAAMI,UAAU,GAAGZ,UAAU,CAACa,YAAY,CAAC,YAAY,EAAE;IACvDH;EACF,CAAC,CAAC;EAEF,OAAAI,oBAAA,IAAAF,UAAA;IAAA,cAC2BF;EAAU;AAEvC;AAEA,SAASC,QAAQA,CAACI,OAAO,EAAE;EACzB,IAAIpB,EAAE,CAACoB,OAAO,EAAE,cAAc,CAAC,EAAE;IAC/B,OAAOA,OAAO,CAACT,GAAG,CAAC,eAAe,CAAC;EACrC,CAAC,MAAM,IAAIX,EAAE,CAACoB,OAAO,EAAE,4BAA4B,CAAC,EAAE;IACpD,OAAOA,OAAO,CAACT,GAAG,CAAC,mBAAmB,CAAC;EACzC;AACF;AAEA,SAASH,kBAAkBA,CAAC;EAAEO;AAAW,CAAC,EAAE;EAC1C,OAAAM,WAAA,WAAAC,IAAA,EAAAD,WAAA,YAAAC,IAAA,GAAAC,eAAA,yBAG2BR,UAAU,CAACS,KAAK,EAAAD,eAAA;IAAA,SAD3B;EAAY;AAK9B","ignoreList":[]}