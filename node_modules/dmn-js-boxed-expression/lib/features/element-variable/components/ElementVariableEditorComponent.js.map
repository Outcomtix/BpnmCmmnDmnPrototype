{"version":3,"file":"ElementVariableEditorComponent.js","names":["InputSelect","withChangeSupport","VARIABLE_TYPE_ID","ElementVariableComponentProvider","$inject","constructor","components","elementVariable","component","ElementVariableComponent","getVariable","onGetComponent","_","context","injector","get","translate","name","getName","createVNode","null","createTextVNode","createComponentVNode","VariableTypeEditor","dataTypes","type","getType","onChange","setType","typeRefOptions","getAll","map","t","label","value"],"sources":["../../../../src/features/element-variable/components/ElementVariableEditorComponent.js"],"sourcesContent":["import InputSelect from 'dmn-js-shared/lib/components/InputSelect';\r\n\r\nimport { withChangeSupport } from '../../../util/withChangeSupport';\r\n\r\nconst VARIABLE_TYPE_ID = 'dmn-boxed-expression-variable-type';\r\n\r\nexport default class ElementVariableComponentProvider {\r\n  static $inject = [ 'components', 'elementVariable' ];\r\n\r\n  constructor(components, elementVariable) {\r\n    const component = withChangeSupport(\r\n      ElementVariableComponent, () => [ elementVariable.getVariable() ]\r\n    );\r\n\r\n    components.onGetComponent('footer', () => component);\r\n  }\r\n}\r\n\r\nfunction ElementVariableComponent(_, context) {\r\n  const elementVariable = context.injector.get('elementVariable');\r\n  const translate = context.injector.get('translate');\r\n\r\n  const name = elementVariable.getName();\r\n\r\n  return (\r\n    <div className=\"element-variable\">\r\n      <h2>Result</h2>\r\n      <div className=\"element-variable-name\">\r\n        <span className=\"element-variable-name-label\">\r\n          { translate('Variable name') }\r\n        </span>\r\n        <span>\r\n          { name }\r\n        </span>\r\n      </div>\r\n      <div className=\"element-variable-type\">\r\n        <label className=\"element-variable-type-label\" htmlFor={ VARIABLE_TYPE_ID }>\r\n          Result type\r\n        </label>\r\n        <VariableTypeEditor />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VariableTypeEditor(_, context) {\r\n  const elementVariable = context.injector.get('elementVariable');\r\n  const dataTypes = context.injector.get('dataTypes');\r\n  const translate = context.injector.get('translate');\r\n\r\n  const type = elementVariable.getType();\r\n  const onChange = type => elementVariable.setType(type);\r\n\r\n  const typeRefOptions = dataTypes.getAll().map(t => {\r\n    return {\r\n      label: translate(t),\r\n      value: t\r\n    };\r\n  });\r\n\r\n  return <InputSelect\r\n    value={ type }\r\n    onChange={ onChange }\r\n    options={ typeRefOptions }\r\n    id={ VARIABLE_TYPE_ID }\r\n  />;\r\n}\r\n"],"mappings":";AAAA,OAAOA,WAAW,MAAM,0CAA0C;AAElE,SAASC,iBAAiB,QAAQ,iCAAiC;AAEnE,MAAMC,gBAAgB,GAAG,oCAAoC;AAE7D,eAAe,MAAMC,gCAAgC,CAAC;EACpD,OAAOC,OAAO,GAAG,CAAE,YAAY,EAAE,iBAAiB,CAAE;EAEpDC,WAAWA,CAACC,UAAU,EAAEC,eAAe,EAAE;IACvC,MAAMC,SAAS,GAAGP,iBAAiB,CACjCQ,wBAAwB,EAAE,MAAM,CAAEF,eAAe,CAACG,WAAW,CAAC,CAAC,CACjE,CAAC;IAEDJ,UAAU,CAACK,cAAc,CAAC,QAAQ,EAAE,MAAMH,SAAS,CAAC;EACtD;AACF;AAEA,SAASC,wBAAwBA,CAACG,CAAC,EAAEC,OAAO,EAAE;EAC5C,MAAMN,eAAe,GAAGM,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAC/D,MAAMC,SAAS,GAAGH,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;EAEnD,MAAME,IAAI,GAAGV,eAAe,CAACW,OAAO,CAAC,CAAC;EAEtC,OAAAC,WAAA,WACiB,kBAAkB,GAAAA,WAAA,UAAAC,IAAA,EAAAC,eAAA,gBAAAF,WAAA,WAEhB,uBAAuB,GAAAA,WAAA,YACpB,6BAA6B,EACzCH,SAAS,CAAC,eAAe,CAAC,MAAAG,WAAA,YAAAC,IAAA,EAG1BH,IAAI,WAAAE,WAAA,WAGK,uBAAuB,GAAAA,WAAA,aACnB,6BAA6B,EAAAE,eAAA;IAAA,OAAWnB;EAAgB,IAAAoB,oBAAA,IAAAC,kBAAA;AAOjF;AAEA,SAASA,kBAAkBA,CAACX,CAAC,EAAEC,OAAO,EAAE;EACtC,MAAMN,eAAe,GAAGM,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAC/D,MAAMS,SAAS,GAAGX,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;EACnD,MAAMC,SAAS,GAAGH,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;EAEnD,MAAMU,IAAI,GAAGlB,eAAe,CAACmB,OAAO,CAAC,CAAC;EACtC,MAAMC,QAAQ,GAAGF,IAAI,IAAIlB,eAAe,CAACqB,OAAO,CAACH,IAAI,CAAC;EAEtD,MAAMI,cAAc,GAAGL,SAAS,CAACM,MAAM,CAAC,CAAC,CAACC,GAAG,CAACC,CAAC,IAAI;IACjD,OAAO;MACLC,KAAK,EAAEjB,SAAS,CAACgB,CAAC,CAAC;MACnBE,KAAK,EAAEF;IACT,CAAC;EACH,CAAC,CAAC;EAEF,OAAAV,oBAAA,IAAAtB,WAAA;IAAA,SACUyB,IAAI;IAAA,YACDE,QAAQ;IAAA,WACTE,cAAc;IAAA,MACnB3B;EAAgB;AAEzB","ignoreList":[]}