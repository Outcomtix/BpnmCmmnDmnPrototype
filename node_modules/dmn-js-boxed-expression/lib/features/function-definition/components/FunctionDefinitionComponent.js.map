{"version":3,"file":"FunctionDefinitionComponent.js","names":["is","FunctionDefinitionComponentProvider","$inject","constructor","components","onGetComponent","expression","FunctionDefinitionComponent","context","functionDefinition","injector","get","kind","getKind","parameters","getParameters","body","getBody","createVNode","createComponentVNode","Kind","FormalParameters","BodyExpression","KIND_MAP","translate","null","createTextVNode","reduce","acc","parameter","concat","Parameter","slice","name","typeRef","displayedName","Expression","getComponent"],"sources":["../../../../src/features/function-definition/components/FunctionDefinitionComponent.js"],"sourcesContent":["import { is } from 'dmn-js-shared/lib/util/ModelUtil';\n\nexport class FunctionDefinitionComponentProvider {\n  static $inject = [ 'components' ];\n\n  constructor(components) {\n    components.onGetComponent('expression', ({ expression }) => {\n      if (is(expression, 'dmn:FunctionDefinition')) {\n        return FunctionDefinitionComponent;\n      }\n    });\n  }\n}\n\nfunction FunctionDefinitionComponent({ expression }, context) {\n  const functionDefinition = context.injector.get('functionDefinition');\n\n  const kind = functionDefinition.getKind(expression);\n  const parameters = functionDefinition.getParameters(expression);\n  const body = functionDefinition.getBody(expression);\n\n  return (\n    <div className=\"function-definition\">\n      <Kind kind={ kind } />\n      <FormalParameters parameters={ parameters } />\n      <BodyExpression expression={ body } />\n    </div>\n  );\n}\n\nconst KIND_MAP = {\n  'FEEL': 'F',\n  'Java': 'J',\n  'PMML': 'P'\n};\n\nfunction Kind({ kind }, context) {\n  const translate = context.injector.get('translate');\n\n  return (\n    <div\n      className=\"function-definition-kind\"\n      title={ translate('Function kind: {kind}', { kind }) }\n    >\n      { KIND_MAP[kind] }\n    </div>\n  );\n}\n\nfunction FormalParameters({ parameters }) {\n  return (\n    <div className=\"function-definition-parameters\">\n      <div>\n        (\n        {\n          parameters.reduce((acc, parameter) => {\n            return acc.concat(<Parameter parameter={ parameter } />, ', ');\n          }, []).slice(0, -1)\n        }\n        )\n      </div>\n    </div>\n  );\n}\n\nfunction Parameter({ parameter }) {\n  const { name, typeRef } = parameter;\n  const displayedName = name || '<unnamed>';\n\n  return <span>\n    {typeRef ? `${displayedName}: ${typeRef}` : displayedName}\n  </span>;\n}\n\nfunction BodyExpression({ expression }, context) {\n  const Expression = context.components.getComponent('expression', {\n    expression\n  });\n\n  return (\n    <div className=\"function-definition-body\">\n      <Expression expression={ expression } />\n    </div>\n  );\n}\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,kCAAkC;AAErD,OAAO,MAAMC,mCAAmC,CAAC;EAC/C,OAAOC,OAAO,GAAG,CAAE,YAAY,CAAE;EAEjCC,WAAWA,CAACC,UAAU,EAAE;IACtBA,UAAU,CAACC,cAAc,CAAC,YAAY,EAAE,CAAC;MAAEC;IAAW,CAAC,KAAK;MAC1D,IAAIN,EAAE,CAACM,UAAU,EAAE,wBAAwB,CAAC,EAAE;QAC5C,OAAOC,2BAA2B;MACpC;IACF,CAAC,CAAC;EACJ;AACF;AAEA,SAASA,2BAA2BA,CAAC;EAAED;AAAW,CAAC,EAAEE,OAAO,EAAE;EAC5D,MAAMC,kBAAkB,GAAGD,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,oBAAoB,CAAC;EAErE,MAAMC,IAAI,GAAGH,kBAAkB,CAACI,OAAO,CAACP,UAAU,CAAC;EACnD,MAAMQ,UAAU,GAAGL,kBAAkB,CAACM,aAAa,CAACT,UAAU,CAAC;EAC/D,MAAMU,IAAI,GAAGP,kBAAkB,CAACQ,OAAO,CAACX,UAAU,CAAC;EAEnD,OAAAY,WAAA,WACiB,qBAAqB,GAAAC,oBAAA,IAAAC,IAAA;IAAA,QACrBR;EAAI,IAAAO,oBAAA,IAAAE,gBAAA;IAAA,cACcP;EAAU,IAAAK,oBAAA,IAAAG,cAAA;IAAA,cACZN;EAAI;AAGvC;AAEA,MAAMO,QAAQ,GAAG;EACf,MAAM,EAAE,GAAG;EACX,MAAM,EAAE,GAAG;EACX,MAAM,EAAE;AACV,CAAC;AAED,SAASH,IAAIA,CAAC;EAAER;AAAK,CAAC,EAAEJ,OAAO,EAAE;EAC/B,MAAMgB,SAAS,GAAGhB,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;EAEnD,OAAAO,WAAA,WAEc,0BAA0B,EAGlCK,QAAQ,CAACX,IAAI,CAAC;IAAA,SAFRY,SAAS,CAAC,uBAAuB,EAAE;MAAEZ;IAAK,CAAC;EAAC;AAK1D;AAEA,SAASS,gBAAgBA,CAAC;EAAEP;AAAW,CAAC,EAAE;EACxC,OAAAI,WAAA,WACiB,gCAAgC,EAAAA,WAAA,WAAAO,IAAA,GAAAC,eAAA,OAIzCZ,UAAU,CAACa,MAAM,CAAC,CAACC,GAAG,EAAEC,SAAS,KAAK;IACpC,OAAOD,GAAG,CAACE,MAAM,CAAAX,oBAAA,IAAAY,SAAA;MAAA,aAAwBF;IAAS,IAAO,IAAI,CAAC;EAChE,CAAC,EAAE,EAAE,CAAC,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAAN,eAAA;AAM7B;AAEA,SAASK,SAASA,CAAC;EAAEF;AAAU,CAAC,EAAE;EAChC,MAAM;IAAEI,IAAI;IAAEC;EAAQ,CAAC,GAAGL,SAAS;EACnC,MAAMM,aAAa,GAAGF,IAAI,IAAI,WAAW;EAEzC,OAAAf,WAAA,YAAAO,IAAA,EACGS,OAAO,GAAG,GAAGC,aAAa,KAAKD,OAAO,EAAE,GAAGC,aAAa;AAE7D;AAEA,SAASb,cAAcA,CAAC;EAAEhB;AAAW,CAAC,EAAEE,OAAO,EAAE;EAC/C,MAAM4B,UAAU,GAAG5B,OAAO,CAACJ,UAAU,CAACiC,YAAY,CAAC,YAAY,EAAE;IAC/D/B;EACF,CAAC,CAAC;EAEF,OAAAY,WAAA,WACiB,0BAA0B,EAAAC,oBAAA,IAAAiB,UAAA;IAAA,cACd9B;EAAU;AAGzC","ignoreList":[]}