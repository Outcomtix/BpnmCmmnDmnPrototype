{"version":3,"file":"CutHandler.js","names":["Row","Col","CutHandler","constructor","clipboard","modeling","sheet","_clipboard","_modeling","_sheet","execute","context","data","oldData","get","set","getRoot","postExecute","elements","forEach","element","removeRow","removeCol","revert","$inject"],"sources":["../../../../src/features/copy-cut-paste/cmd/CutHandler.js"],"sourcesContent":["import { Row, Col } from 'table-js/lib/model';\r\n\r\n/**\r\n * A handler that implements cutting a row or col.\r\n * Cutting of cells doesn't make sense.\r\n */\r\nexport default class CutHandler {\r\n\r\n  constructor(clipboard, modeling, sheet) {\r\n    this._clipboard = clipboard;\r\n    this._modeling = modeling;\r\n    this._sheet = sheet;\r\n  }\r\n\r\n\r\n  /**\r\n   * <do>\r\n   */\r\n  execute(context) {\r\n    let {\r\n      data\r\n    } = context;\r\n\r\n    context.oldData = this._clipboard.get();\r\n\r\n    this._clipboard.set(data);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n  postExecute(context) {\r\n    let {\r\n      elements\r\n    } = context;\r\n\r\n    elements.forEach(element => {\r\n      if (element instanceof Row) {\r\n        this._modeling.removeRow(element);\r\n      } else if (element instanceof Col) {\r\n        this._modeling.removeCol(element);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * <undo>\r\n   */\r\n  revert(context) {\r\n\r\n    const {\r\n      oldData\r\n    } = context;\r\n\r\n    this._clipboard.set(oldData);\r\n\r\n    return this._sheet.getRoot();\r\n  }\r\n\r\n}\r\n\r\nCutHandler.$inject = [ 'clipboard', 'modeling', 'sheet' ];"],"mappings":"AAAA,SAASA,GAAG,EAAEC,GAAG,QAAQ,oBAAoB;;AAE7C;AACA;AACA;AACA;AACA,eAAe,MAAMC,UAAU,CAAC;EAE9BC,WAAWA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IACtC,IAAI,CAACC,UAAU,GAAGH,SAAS;IAC3B,IAAI,CAACI,SAAS,GAAGH,QAAQ;IACzB,IAAI,CAACI,MAAM,GAAGH,KAAK;EACrB;;EAGA;AACF;AACA;EACEI,OAAOA,CAACC,OAAO,EAAE;IACf,IAAI;MACFC;IACF,CAAC,GAAGD,OAAO;IAEXA,OAAO,CAACE,OAAO,GAAG,IAAI,CAACN,UAAU,CAACO,GAAG,CAAC,CAAC;IAEvC,IAAI,CAACP,UAAU,CAACQ,GAAG,CAACH,IAAI,CAAC;IAEzB,OAAO,IAAI,CAACH,MAAM,CAACO,OAAO,CAAC,CAAC;EAC9B;EAEAC,WAAWA,CAACN,OAAO,EAAE;IACnB,IAAI;MACFO;IACF,CAAC,GAAGP,OAAO;IAEXO,QAAQ,CAACC,OAAO,CAACC,OAAO,IAAI;MAC1B,IAAIA,OAAO,YAAYpB,GAAG,EAAE;QAC1B,IAAI,CAACQ,SAAS,CAACa,SAAS,CAACD,OAAO,CAAC;MACnC,CAAC,MAAM,IAAIA,OAAO,YAAYnB,GAAG,EAAE;QACjC,IAAI,CAACO,SAAS,CAACc,SAAS,CAACF,OAAO,CAAC;MACnC;IACF,CAAC,CAAC;EACJ;;EAEA;AACF;AACA;EACEG,MAAMA,CAACZ,OAAO,EAAE;IAEd,MAAM;MACJE;IACF,CAAC,GAAGF,OAAO;IAEX,IAAI,CAACJ,UAAU,CAACQ,GAAG,CAACF,OAAO,CAAC;IAE5B,OAAO,IAAI,CAACJ,MAAM,CAACO,OAAO,CAAC,CAAC;EAC9B;AAEF;AAEAd,UAAU,CAACsB,OAAO,GAAG,CAAE,WAAW,EAAE,UAAU,EAAE,OAAO,CAAE","ignoreList":[]}