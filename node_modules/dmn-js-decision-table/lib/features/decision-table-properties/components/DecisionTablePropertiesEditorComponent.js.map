{"version":3,"file":"DecisionTablePropertiesEditorComponent.js","names":["Component","EditableComponent","inject","mixin","classNames","SelectionAware","DecisionTablePropertiesComponent","constructor","props","context","componentWillMount","setupChangeListeners","bind","getBusinessObject","id","componentWillUnmount","unbind","changeSupport","offElementsChanged","onElementsChanged","sheet","getRoot","businessObject","$parent","forceUpdate","setDecisionTableName","name","modeling","editDecisionTableName","render","bo","HitPolicy","components","getComponent","NullComponent","createVNode","createComponentVNode","DecisionTableName","translate","resetScroll","$inject","_translate","injector","get","value","className","getSelectionClasses","getClassName","getEditor","elementId","coords","event","target","scroll"],"sources":["../../../../src/features/decision-table-properties/components/DecisionTablePropertiesEditorComponent.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\nimport {\r\n  inject,\r\n  mixin,\r\n  classNames,\r\n  SelectionAware\r\n} from 'table-js/lib/components';\r\n\r\n\r\nexport default class DecisionTablePropertiesComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    inject(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setupChangeListeners({ bind: this.getBusinessObject().id });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getBusinessObject().id\r\n    });\r\n  }\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    if (typeof unbind === 'string') {\r\n      this.changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      this.changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  getBusinessObject() {\r\n    return this.sheet.getRoot().businessObject.$parent;\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  setDecisionTableName = (name) => {\r\n    this.modeling.editDecisionTableName(name);\r\n  };\r\n\r\n  render() {\r\n    const bo = this.getBusinessObject();\r\n\r\n    const { name } = bo;\r\n\r\n    const HitPolicy = this.components.getComponent('hit-policy') || NullComponent;\r\n\r\n    return (\r\n      <div className=\"decision-table-properties\">\r\n        <DecisionTableName\r\n          label={ this.translate('Decision name') }\r\n          className=\"decision-table-name\"\r\n          value={ name }\r\n          ctrlForNewline={ true }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionTableName }\r\n          elementId={ '__decisionProperties_name' }\r\n          coords={ '0:__decisionProperties' }\r\n        />\r\n        <div className=\"decision-table-header-separator\" />\r\n        <HitPolicy />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDecisionTablePropertiesComponent.$inject = [\r\n  'sheet',\r\n  'modeling',\r\n  'changeSupport',\r\n  'components',\r\n  'translate'\r\n];\r\n\r\n\r\nclass DecisionTableName extends EditableComponent {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._translate = context.injector.get('translate');\r\n\r\n    mixin(this, SelectionAware);\r\n  }\r\n\r\n  render() {\r\n\r\n    const name = this.props.value;\r\n\r\n    const className = classNames(\r\n      this.getSelectionClasses(),\r\n      this.getClassName()\r\n    );\r\n\r\n    return (\r\n      <div\r\n        className={ className }\r\n        data-element-id={ this.props.elementId }\r\n        data-coords={ this.props.coords }\r\n        title={ this._translate('Decision name: ') + name }\r\n      >\r\n        { this.getEditor() }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction NullComponent() {\r\n  return null;\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n"],"mappings":"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","ignoreList":[]}