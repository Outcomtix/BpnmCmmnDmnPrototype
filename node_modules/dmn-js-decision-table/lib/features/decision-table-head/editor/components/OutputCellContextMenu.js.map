{"version":3,"file":"OutputCellContextMenu.js","names":["Component","OutputEditor","inject","OutputCellContextMenu","constructor","props","context","state","persistChanges","debounceInput","output","unsaved","modeling","updateProperties","setState","handleChange","changes","getValue","attr","get","render","createComponentVNode","$inject"],"sources":["../../../../../src/features/decision-table-head/editor/components/OutputCellContextMenu.js"],"sourcesContent":["import { Component } from 'inferno';\n\nimport OutputEditor from './OutputEditor';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\n\nexport default class OutputCellContextMenu extends Component {\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {};\n\n    inject(this);\n\n    this.persistChanges = this.debounceInput(this.persistChanges);\n  }\n\n  persistChanges = () => {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    if (!unsaved) {\n      return;\n    }\n\n    this.modeling.updateProperties(output, unsaved);\n\n    this.setState({\n      unsaved: false\n    });\n  };\n\n  handleChange = (changes) => {\n    this.setState({\n      unsaved: {\n        ...this.state.unsaved,\n        ...changes\n      }\n    }, this.persistChanges);\n  };\n\n  getValue(attr) {\n    const { output } = this.props.context;\n\n    const { unsaved } = this.state;\n\n    return unsaved && attr in unsaved ? unsaved[attr] : output.get(attr);\n  }\n\n  render() {\n    return (\n      <OutputEditor\n        name={ this.getValue('name') }\n        label={ this.getValue('label') }\n        onChange={ this.handleChange } />\n    );\n  }\n}\n\nOutputCellContextMenu.$inject = [\n  'debounceInput',\n  'modeling'\n];"],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,SACEC,MAAM,QACD,yBAAyB;AAGhC,eAAe,MAAMC,qBAAqB,SAASH,SAAS,CAAC;EAE3DI,WAAWA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAErB,IAAI,CAACC,KAAK,GAAG,CAAC,CAAC;IAEfL,MAAM,CAAC,IAAI,CAAC;IAEZ,IAAI,CAACM,cAAc,GAAG,IAAI,CAACC,aAAa,CAAC,IAAI,CAACD,cAAc,CAAC;EAC/D;EAEAA,cAAc,GAAGA,CAAA,KAAM;IACrB,MAAM;MAAEE;IAAO,CAAC,GAAG,IAAI,CAACL,KAAK,CAACC,OAAO;IAErC,MAAM;MAAEK;IAAQ,CAAC,GAAG,IAAI,CAACJ,KAAK;IAE9B,IAAI,CAACI,OAAO,EAAE;MACZ;IACF;IAEA,IAAI,CAACC,QAAQ,CAACC,gBAAgB,CAACH,MAAM,EAAEC,OAAO,CAAC;IAE/C,IAAI,CAACG,QAAQ,CAAC;MACZH,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EAEDI,YAAY,GAAIC,OAAO,IAAK;IAC1B,IAAI,CAACF,QAAQ,CAAC;MACZH,OAAO,EAAE;QACP,GAAG,IAAI,CAACJ,KAAK,CAACI,OAAO;QACrB,GAAGK;MACL;IACF,CAAC,EAAE,IAAI,CAACR,cAAc,CAAC;EACzB,CAAC;EAEDS,QAAQA,CAACC,IAAI,EAAE;IACb,MAAM;MAAER;IAAO,CAAC,GAAG,IAAI,CAACL,KAAK,CAACC,OAAO;IAErC,MAAM;MAAEK;IAAQ,CAAC,GAAG,IAAI,CAACJ,KAAK;IAE9B,OAAOI,OAAO,IAAIO,IAAI,IAAIP,OAAO,GAAGA,OAAO,CAACO,IAAI,CAAC,GAAGR,MAAM,CAACS,GAAG,CAACD,IAAI,CAAC;EACtE;EAEAE,MAAMA,CAAA,EAAG;IACP,OAAAC,oBAAA,IAAApB,YAAA;MAAA,QAEW,IAAI,CAACgB,QAAQ,CAAC,MAAM,CAAC;MAAA,SACpB,IAAI,CAACA,QAAQ,CAAC,OAAO,CAAC;MAAA,YACnB,IAAI,CAACF;IAAY;EAElC;AACF;AAEAZ,qBAAqB,CAACmB,OAAO,GAAG,CAC9B,eAAe,EACf,UAAU,CACX","ignoreList":[]}