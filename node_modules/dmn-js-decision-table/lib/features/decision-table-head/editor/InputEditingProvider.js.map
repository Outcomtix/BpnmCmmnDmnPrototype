{"version":3,"file":"InputEditingProvider.js","names":["closest","domClosest","InputCell","InputCellContextMenu","InputEditButton","InputCellProvider","constructor","components","contextMenu","eventBus","renderer","onGetComponent","cellType","context","contextMenuType","on","event","input","target","node","left","top","getBoundingClientRect","open","x","y","align","$inject"],"sources":["../../../../src/features/decision-table-head/editor/InputEditingProvider.js"],"sourcesContent":["import {\n  closest as domClosest\n} from 'min-dom';\n\nimport InputCell from './components/InputCell';\nimport InputCellContextMenu from './components/InputCellContextMenu';\nimport { InputEditButton } from './components/InputEditButton';\n\n\nexport default class InputCellProvider {\n\n  constructor(components, contextMenu, eventBus, renderer) {\n\n    components.onGetComponent('cell', ({ cellType }) => {\n      if (cellType === 'input-header') {\n        return InputCell;\n      }\n    });\n\n    components.onGetComponent('context-menu', (context = {}) => {\n      if (\n        context.contextMenuType === 'input-edit'\n      ) {\n        return InputCellContextMenu;\n      }\n    });\n\n    components.onGetComponent('cell-inner', (context = {}) => {\n      const { cellType } = context;\n\n      if (\n        cellType === 'input-cell'\n      ) {\n        return InputEditButton;\n      }\n    });\n\n    eventBus.on('input.edit', ({ event, input }) => {\n      const { target } = event;\n\n      const node = domClosest(target, 'th', true);\n\n      const { left, top } = node.getBoundingClientRect();\n\n      contextMenu.open({\n        x: left,\n        y: top,\n        align: 'bottom-right'\n      }, {\n        contextMenuType: 'input-edit',\n        input\n      });\n    });\n  }\n\n}\n\nInputCellProvider.$inject = [\n  'components',\n  'contextMenu',\n  'eventBus',\n  'renderer'\n];"],"mappings":"AAAA,SACEA,OAAO,IAAIC,UAAU,QAChB,SAAS;AAEhB,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,oBAAoB,MAAM,mCAAmC;AACpE,SAASC,eAAe,QAAQ,8BAA8B;AAG9D,eAAe,MAAMC,iBAAiB,CAAC;EAErCC,WAAWA,CAACC,UAAU,EAAEC,WAAW,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;IAEvDH,UAAU,CAACI,cAAc,CAAC,MAAM,EAAE,CAAC;MAAEC;IAAS,CAAC,KAAK;MAClD,IAAIA,QAAQ,KAAK,cAAc,EAAE;QAC/B,OAAOV,SAAS;MAClB;IACF,CAAC,CAAC;IAEFK,UAAU,CAACI,cAAc,CAAC,cAAc,EAAE,CAACE,OAAO,GAAG,CAAC,CAAC,KAAK;MAC1D,IACEA,OAAO,CAACC,eAAe,KAAK,YAAY,EACxC;QACA,OAAOX,oBAAoB;MAC7B;IACF,CAAC,CAAC;IAEFI,UAAU,CAACI,cAAc,CAAC,YAAY,EAAE,CAACE,OAAO,GAAG,CAAC,CAAC,KAAK;MACxD,MAAM;QAAED;MAAS,CAAC,GAAGC,OAAO;MAE5B,IACED,QAAQ,KAAK,YAAY,EACzB;QACA,OAAOR,eAAe;MACxB;IACF,CAAC,CAAC;IAEFK,QAAQ,CAACM,EAAE,CAAC,YAAY,EAAE,CAAC;MAAEC,KAAK;MAAEC;IAAM,CAAC,KAAK;MAC9C,MAAM;QAAEC;MAAO,CAAC,GAAGF,KAAK;MAExB,MAAMG,IAAI,GAAGlB,UAAU,CAACiB,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC;MAE3C,MAAM;QAAEE,IAAI;QAAEC;MAAI,CAAC,GAAGF,IAAI,CAACG,qBAAqB,CAAC,CAAC;MAElDd,WAAW,CAACe,IAAI,CAAC;QACfC,CAAC,EAAEJ,IAAI;QACPK,CAAC,EAAEJ,GAAG;QACNK,KAAK,EAAE;MACT,CAAC,EAAE;QACDZ,eAAe,EAAE,YAAY;QAC7BG;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AAEF;AAEAZ,iBAAiB,CAACsB,OAAO,GAAG,CAC1B,YAAY,EACZ,aAAa,EACb,UAAU,EACV,UAAU,CACX","ignoreList":[]}