{"version":3,"file":"AddRuleFootComponent.js","names":["Component","inject","AddRuleFootComponent","constructor","props","context","addRule","bind","componentWillMount","_eventBus","injector","get","handleClick","e","stopPropagation","target","dataset","colIndex","fire","render","cols","cells","createVNode","null","translate","businessObject","sheet","getRoot","input","length","push","createTextVNode","i","className","placeholder","$instanceOf","$inject"],"sources":["../../../../src/features/add-rule/components/AddRuleFootComponent.js"],"sourcesContent":["import { Component } from 'inferno';\n\nimport {\n  inject\n} from 'table-js/lib/components';\n\nexport default class AddRuleFootComponent extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    inject(this);\n\n    this.addRule = this.addRule.bind(this);\n  }\n\n  componentWillMount() {\n    this._eventBus = this.context.injector.get('eventBus');\n  }\n\n  handleClick = (e) => {\n    e.stopPropagation();\n\n    this.addRule(e.target.dataset.colIndex);\n  };\n\n  addRule(colIndex) {\n    this._eventBus.fire('addRule', { colIndex });\n  }\n\n  render() {\n    const { cols } = this.props;\n\n    const cells = [\n      <td className=\"add-rule-add\">\n        <button\n          className=\"dmn-icon-plus action-icon\"\n          title={ this.translate('Add rule') }>\n        </button>\n      </td>\n    ];\n\n    const { businessObject } = this.sheet.getRoot();\n\n    if (!businessObject.input || !businessObject.input.length) {\n      cells.push(<td className=\"input-cell\">-</td>);\n    }\n\n    for (let i = 0; i < cols.length + 1; i++) {\n      let className = 'add-rule';\n\n      const businessObject = cols[i] && cols[i].businessObject;\n\n      let placeholder = '';\n\n      if (businessObject) {\n        if (businessObject.$instanceOf('dmn:InputClause')) {\n          className += ' input-cell';\n          placeholder = '-';\n        }\n\n        if (businessObject.$instanceOf('dmn:OutputClause')) {\n          className += ' output-cell';\n        }\n      } else {\n        className += ' annotation';\n      }\n\n      cells.push(<td className={ className } data-col-index={ i }>{placeholder}</td>);\n    }\n\n    return (\n      <tfoot\n        className=\"actionable add-rule\"\n        onClick={ this.handleClick }>\n        <tr>\n          { cells }\n        </tr>\n      </tfoot>\n    );\n  }\n}\n\nAddRuleFootComponent.$inject = [ 'sheet', 'translate' ];\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,SACEC,MAAM,QACD,yBAAyB;AAEhC,eAAe,MAAMC,oBAAoB,SAASF,SAAS,CAAC;EAC1DG,WAAWA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAErBJ,MAAM,CAAC,IAAI,CAAC;IAEZ,IAAI,CAACK,OAAO,GAAG,IAAI,CAACA,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC;EACxC;EAEAC,kBAAkBA,CAAA,EAAG;IACnB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACJ,OAAO,CAACK,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;EACxD;EAEAC,WAAW,GAAIC,CAAC,IAAK;IACnBA,CAAC,CAACC,eAAe,CAAC,CAAC;IAEnB,IAAI,CAACR,OAAO,CAACO,CAAC,CAACE,MAAM,CAACC,OAAO,CAACC,QAAQ,CAAC;EACzC,CAAC;EAEDX,OAAOA,CAACW,QAAQ,EAAE;IAChB,IAAI,CAACR,SAAS,CAACS,IAAI,CAAC,SAAS,EAAE;MAAED;IAAS,CAAC,CAAC;EAC9C;EAEAE,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEC;IAAK,CAAC,GAAG,IAAI,CAAChB,KAAK;IAE3B,MAAMiB,KAAK,GAAG,CAAAC,WAAA,UACE,cAAc,EAAAA,WAAA,cAEd,2BAA2B,EAAAC,IAAA;MAAA,SAC7B,IAAI,CAACC,SAAS,CAAC,UAAU;IAAC,OAGvC;IAED,MAAM;MAAEC;IAAe,CAAC,GAAG,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,CAAC;IAE/C,IAAI,CAACF,cAAc,CAACG,KAAK,IAAI,CAACH,cAAc,CAACG,KAAK,CAACC,MAAM,EAAE;MACzDR,KAAK,CAACS,IAAI,CAAAR,WAAA,UAAe,YAAY,EAAAS,eAAA,SAAO,CAAC;IAC/C;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,IAAI,CAACS,MAAM,GAAG,CAAC,EAAEG,CAAC,EAAE,EAAE;MACxC,IAAIC,SAAS,GAAG,UAAU;MAE1B,MAAMR,cAAc,GAAGL,IAAI,CAACY,CAAC,CAAC,IAAIZ,IAAI,CAACY,CAAC,CAAC,CAACP,cAAc;MAExD,IAAIS,WAAW,GAAG,EAAE;MAEpB,IAAIT,cAAc,EAAE;QAClB,IAAIA,cAAc,CAACU,WAAW,CAAC,iBAAiB,CAAC,EAAE;UACjDF,SAAS,IAAI,aAAa;UAC1BC,WAAW,GAAG,GAAG;QACnB;QAEA,IAAIT,cAAc,CAACU,WAAW,CAAC,kBAAkB,CAAC,EAAE;UAClDF,SAAS,IAAI,cAAc;QAC7B;MACF,CAAC,MAAM;QACLA,SAAS,IAAI,aAAa;MAC5B;MAEAZ,KAAK,CAACS,IAAI,CAAAR,WAAA,UAAiBW,SAAS,EAAyBC,WAAW;QAAA,kBAAhBF;MAAC,EAAqB,CAAC;IACjF;IAEA,OAAAV,WAAA,aAEc,qBAAqB,EAAAA,WAAA,UAAAC,IAAA,EAG3BF,KAAK;MAAA,WAFC,IAAI,CAACT;IAAW;EAMhC;AACF;AAEAV,oBAAoB,CAACkC,OAAO,GAAG,CAAE,OAAO,EAAE,WAAW,CAAE","ignoreList":[]}