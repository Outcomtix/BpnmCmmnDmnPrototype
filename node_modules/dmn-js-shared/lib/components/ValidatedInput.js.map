{"version":3,"file":"ValidatedInput.js","names":["Component","Input","ValidatedInput","constructor","props","context","validate","value","validationWarning","undefined","state","onInput","bind","onKeyDown","onKeyUp","componentWillReceiveProps","setState","isValid","event","target","render","placeholder","type","className","label","parentClasses","join","inputClasses","push","createVNode","createComponentVNode"],"sources":["../../src/components/ValidatedInput.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\n\r\nimport Input from './Input';\r\n\r\n/**\r\n * Input with optional validation.\r\n */\r\nexport default class ValidatedInput extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.state = {\r\n      validationWarning,\r\n      value\r\n    };\r\n\r\n    this.onInput = this.onInput.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    const { validate, value } = props;\r\n\r\n    const validationWarning = validate ? validate(value || '') : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onInput(value) {\r\n    const { onInput, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    this.setState({\r\n      validationWarning,\r\n      value\r\n    });\r\n\r\n    if (typeof onInput !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onInput && onInput({\r\n      isValid: !validationWarning,\r\n      value\r\n    });\r\n  }\r\n\r\n  onKeyDown(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyDown, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyDown !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyDown({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  onKeyUp(event) {\r\n    const { target } = event,\r\n          { value } = target;\r\n\r\n    const { onKeyUp, validate } = this.props;\r\n\r\n    const validationWarning = validate ? validate(value) : undefined;\r\n\r\n    if (typeof onKeyUp !== 'function') {\r\n      return;\r\n    }\r\n\r\n    onKeyUp({\r\n      isValid: !validationWarning,\r\n      value,\r\n      event\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      placeholder,\r\n      type,\r\n      className,\r\n      label\r\n    } = this.props;\r\n\r\n    const { validationWarning, value } = this.state;\r\n\r\n    const parentClasses = [\r\n      'dms-validated-input',\r\n      className\r\n    ].join(' ');\r\n\r\n    const inputClasses = [ ];\r\n\r\n    if (validationWarning) {\r\n      inputClasses.push('invalid');\r\n    }\r\n\r\n    return (\r\n      <div className={ parentClasses }>\r\n\r\n        <Input\r\n          className={ inputClasses }\r\n          label={ label }\r\n          onInput={ this.onInput }\r\n          onKeyDown={ this.onKeyDown }\r\n          onKeyUp={ this.onKeyUp }\r\n          placeholder={ placeholder || '' }\r\n          type={ type }\r\n          value={ value || '' } />\r\n\r\n        {\r\n          validationWarning &&\r\n            <p class=\"dms-hint dms-validation-warning\">\r\n              { validationWarning }\r\n            </p>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"],"mappings":"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","ignoreList":[]}