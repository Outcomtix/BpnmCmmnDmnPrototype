{"version":3,"file":"DecisionPropertiesEditorComponent.js","names":["Component","EditableComponent","DecisionPropertiesEditorComponent","constructor","props","context","_viewer","injector","get","_modeling","_translate","setupChangeListeners","bind","getDecision","id","componentWillUnmount","unbind","onElementsChanged","forceUpdate","changeSupport","offElementsChanged","setDecisionName","name","editDecisionName","render","createVNode","createComponentVNode","DecisionName","resetScroll","getClassName","getEditor","event","target","scroll"],"sources":["../../../../src/features/decision-properties/components/DecisionPropertiesEditorComponent.js"],"sourcesContent":["import { Component } from 'inferno';\r\n\r\nimport EditableComponent from 'dmn-js-shared/lib/components/EditableComponent';\r\n\r\n\r\nexport default class DecisionPropertiesEditorComponent extends Component {\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this._viewer = context.injector.get('viewer');\r\n    this._modeling = context.injector.get('modeling');\r\n    this._translate = context.injector.get('translate');\r\n\r\n    this.setupChangeListeners({\r\n      bind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setupChangeListeners({\r\n      unbind: this.getDecision().id\r\n    });\r\n  }\r\n\r\n  getDecision() {\r\n    return this._viewer.getDecision();\r\n  }\r\n\r\n  onElementsChanged = () => {\r\n    this.forceUpdate();\r\n  };\r\n\r\n  setupChangeListeners({ bind, unbind }) {\r\n\r\n    const {\r\n      changeSupport\r\n    } = this.context;\r\n\r\n    if (typeof unbind === 'string') {\r\n      changeSupport.offElementsChanged(unbind, this.onElementsChanged);\r\n    }\r\n\r\n    if (typeof bind === 'string') {\r\n      changeSupport.onElementsChanged(bind, this.onElementsChanged);\r\n    }\r\n  }\r\n\r\n  setDecisionName = (name) => {\r\n    this._modeling.editDecisionName(name);\r\n  };\r\n\r\n  render() {\r\n    const { name } = this.getDecision();\r\n\r\n    return (\r\n      <header className=\"decision-properties\">\r\n        <DecisionName\r\n          label={ this._translate('Decision name') }\r\n          className=\"decision-name editor\"\r\n          value={ name }\r\n          onBlur={ resetScroll }\r\n          onChange={ this.setDecisionName } />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nclass DecisionName extends EditableComponent {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <h3 className={ this.getClassName() }>\r\n        { this.getEditor() }\r\n      </h3>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nfunction resetScroll(event) {\r\n  event.target.scroll(0, 0);\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,SAAS;AAEnC,OAAOC,iBAAiB,MAAM,gDAAgD;AAG9E,eAAe,MAAMC,iCAAiC,SAASF,SAAS,CAAC;EAEvEG,WAAWA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,EAAEC,OAAO,CAAC;IAErB,IAAI,CAACC,OAAO,GAAGD,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,QAAQ,CAAC;IAC7C,IAAI,CAACC,SAAS,GAAGJ,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,UAAU,CAAC;IACjD,IAAI,CAACE,UAAU,GAAGL,OAAO,CAACE,QAAQ,CAACC,GAAG,CAAC,WAAW,CAAC;IAEnD,IAAI,CAACG,oBAAoB,CAAC;MACxBC,IAAI,EAAE,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC;IAC3B,CAAC,CAAC;EACJ;EAEAC,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAACJ,oBAAoB,CAAC;MACxBK,MAAM,EAAE,IAAI,CAACH,WAAW,CAAC,CAAC,CAACC;IAC7B,CAAC,CAAC;EACJ;EAEAD,WAAWA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACP,OAAO,CAACO,WAAW,CAAC,CAAC;EACnC;EAEAI,iBAAiB,GAAGA,CAAA,KAAM;IACxB,IAAI,CAACC,WAAW,CAAC,CAAC;EACpB,CAAC;EAEDP,oBAAoBA,CAAC;IAAEC,IAAI;IAAEI;EAAO,CAAC,EAAE;IAErC,MAAM;MACJG;IACF,CAAC,GAAG,IAAI,CAACd,OAAO;IAEhB,IAAI,OAAOW,MAAM,KAAK,QAAQ,EAAE;MAC9BG,aAAa,CAACC,kBAAkB,CAACJ,MAAM,EAAE,IAAI,CAACC,iBAAiB,CAAC;IAClE;IAEA,IAAI,OAAOL,IAAI,KAAK,QAAQ,EAAE;MAC5BO,aAAa,CAACF,iBAAiB,CAACL,IAAI,EAAE,IAAI,CAACK,iBAAiB,CAAC;IAC/D;EACF;EAEAI,eAAe,GAAIC,IAAI,IAAK;IAC1B,IAAI,CAACb,SAAS,CAACc,gBAAgB,CAACD,IAAI,CAAC;EACvC,CAAC;EAEDE,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEF;IAAK,CAAC,GAAG,IAAI,CAACT,WAAW,CAAC,CAAC;IAEnC,OAAAY,WAAA,cACoB,qBAAqB,EAAAC,oBAAA,IAAAC,YAAA;MAAA,SAE3B,IAAI,CAACjB,UAAU,CAAC,eAAe,CAAC;MAAA,aAC9B,sBAAsB;MAAA,SACxBY,IAAI;MAAA,UACHM,WAAW;MAAA,YACT,IAAI,CAACP;IAAe;EAGvC;AACF;AAEA,MAAMM,YAAY,SAAS1B,iBAAiB,CAAC;EAE3CuB,MAAMA,CAAA,EAAG;IAEP,OAAAC,WAAA,UACkB,IAAI,CAACI,YAAY,CAAC,CAAC,EAC/B,IAAI,CAACC,SAAS,CAAC,CAAC;EAGxB;AAEF;AAEA,SAASF,WAAWA,CAACG,KAAK,EAAE;EAC1BA,KAAK,CAACC,MAAM,CAACC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3B","ignoreList":[]}